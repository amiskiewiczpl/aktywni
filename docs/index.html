<!doctype html>
<html lang="pl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Aktywni ‚Äî wydarzenia sportowe</title>
  <meta name="description" content="Strona dla aktywnych sportowo: odkrywaj i tw√≥rz wydarzenia, zapisuj siƒô, sprawdzaj lokalizacje na mini-mapie." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

  <!-- Leaflet (mapa) -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin=""/>
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>

  <!-- Leaflet Geocoder (Photon/Komoot ‚Äì wiƒôksza baza) -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.css" />
  <script src="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js"></script>


  <!-- UX/A11y -->
  <style>
    :focus-visible{ outline:3px solid #66e1c6; outline-offset:3px; border-radius:6px; }
    .skip-link{ position:absolute; left:-9999px; top:auto; width:1px; height:1px; overflow:hidden; }
    .skip-link:focus{ position:fixed; left:16px; top:16px; width:auto; height:auto; z-index:9999; background:#0b1020; color:#fff; padding:10px 14px; border-radius:8px; box-shadow:0 6px 18px rgba(0,0,0,.4); }
    header .btn:focus-visible, header .btn:hover{ box-shadow:0 0 0 3px rgba(102,225,198,.35) inset; }

    /* Ciemny motyw dla inputu geokodera */
    .leaflet-control-geocoder,
    .leaflet-control-geocoder-expanded { background:#0f172a !important; border:1px solid #223 !important; }
    .leaflet-control-geocoder-form input {
      color:#e5e7eb !important; background:#0b1020 !important; border:1px solid #334155 !important;
      padding:.45rem .6rem !important; border-radius:.6rem !important;
    }
    .leaflet-control-geocoder-alternatives { background:#0f172a !important; color:#e5e7eb !important; }
    .leaflet-control-geocoder-alternatives a { color:#e5e7eb !important; }
    .leaflet-control-geocoder-icon { filter: invert(1) opacity(.9); }
    @media (prefers-reduced-motion: reduce){
      *{ animation-duration:0.001ms !important; animation-iteration-count:1 !important; transition-duration:0.001ms !important; scroll-behavior:auto !important; }
    }
  </style>
  <script type="module" crossorigin src="/aktywni/assets/index-JNSkmA-Q.js"></script>
  <link rel="stylesheet" crossorigin href="/aktywni/assets/index-BCHqflRY.css">
</head>
<body>
  <a class="skip-link" href="#app">Pomi≈Ñ nawigacjƒô, przejd≈∫ do tre≈õci</a>

  <header class="nav">
    <div class="nav-inner container">
      <a href="#/" class="brand"><span class="logo"></span> Aktywni</a>
      <nav style="display:flex; gap:8px; align-items:center" aria-label="G≈Ç√≥wna nawigacja">
        <a href="#/wydarzenia" id="nav-events" class="btn">Wydarzenia</a>
        <a href="#/nowe" id="nav-create" class="btn link" title="Dodaj nowe wydarzenie">Stw√≥rz wydarzenie</a>
        <a href="#/login" id="nav-login" class="btn">Login</a>
        <a href="#/profil" id="nav-profile" class="btn" style="display:none">Profil</a>
      </nav>
    </div>
  </header>

  <main id="app" role="main" tabindex="-1" aria-live="polite"></main>

  <!-- Home -->
  <template id="home-tpl">
    <section class="hero container">
      <div class="hero-grid">
        <div class="glass" style="padding:22px">
          <h1>Twoje sportowe centrum wydarze≈Ñ</h1>
          <p>Odkrywaj lokalne aktywno≈õci, zapisuj siƒô na wydarzenia i tw√≥rz w≈Çasne ‚Äî od biegania po siatk√≥wkƒô.
             Mini‚Äëmapa pomo≈ºe Ci szybko sprawdziƒá lokalizacjƒô.</p>
          <div class="hero-cta">
            <a class="btn primary" href="#/wydarzenia">PrzeglƒÖdaj wydarzenia</a>
            <a class="btn link" href="#/nowe" style="color:var(--brand-2)">Stw√≥rz wydarzenie</a>
          </div>
        </div>
        <div class="art glass">
          <span class="badge">Aktywni razem ‚ú¶</span>
        </div>
      </div>
    </section>

    <section class="section container">
      <h2 style="margin:0 0 12px">Jak to dzia≈Ça?</h2>
      <div class="cards">
        <div class="card"><strong>Krok 1</strong><p class="meta">Wybierz wydarzenie z listy i otw√≥rz szczeg√≥≈Çy.</p></div>
        <div class="card"><strong>Krok 2</strong><p class="meta">Sprawd≈∫ datƒô, miejsce i podglƒÖd na mini‚Äëmapie.</p></div>
        <div class="card"><strong>Krok 3</strong><p class="meta">Zapisz siƒô. Liczba miejsc aktualizuje siƒô automatycznie*</p><p class="meta">*W demo zapisy sƒÖ lokalne.</p></div>
      </div>
    </section>
  </template>

  <!-- Lista wydarze≈Ñ -->
  <template id="events-tpl">
    <section class="section container">
      <div style="display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom:10px">
        <h2 style="margin:0">Wydarzenia</h2>
        <a class="btn link" href="#/nowe" style="color:var(--brand-2)">Stw√≥rz wydarzenie</a>
      </div>
      <div id="events-list" class="stack" style="display:grid; gap:12px"></div>
    </section>
  </template>

  <!-- Login -->
  <template id="login-tpl">
    <section class="section container">
      <h2 style="margin:0 0 10px">Logowanie</h2>
      <form id="login-form" class="glass" style="padding:16px; max-width:520px">
        <div class="field"><label>E‚Äëmail</label><input name="email" type="email" required placeholder="jan@example.com" /></div>
        <div class="field"><label>Imiƒô (na potrzeby demo)</label><input name="name" required placeholder="Jan" /></div>
        <button class="btn primary" type="submit">Zaloguj (demo)</button>
        <p class="meta" style="margin-top:8px">To tylko demo ‚Äî dane trafiajƒÖ lokalnie.</p>
      </form>
    </section>
  </template>

  <!-- Profil + poziomy sport√≥w -->
  <template id="profile-tpl">
    <section class="section container">
      <h2 style="margin:0 0 10px">Tw√≥j profil</h2>
      <div class="glass" style="padding:16px; max-width:780px">
        <div id="profile-box"></div>
        <hr style="border:none; border-top:1px solid #223; margin:12px 0">
        <h3 style="margin:0 0 8px; font-size:18px">Poziomy w sportach</h3>
        <form id="skills-form" class="stack" style="display:grid; gap:10px"></form>

        <!-- Preferencje kolarstwa w profilu -->
        <div id="skills-cycling" class="stack" style="display:none; gap:10px; margin-top:8px">
          <h4 style="margin:8px 0 0; font-size:16px">Kolarstwo ‚Äî preferencje</h4>
          <div class="field" style="display:grid; grid-template-columns:200px 1fr; gap:12px; align-items:center">
            <label>Dystans</label>
            <select id="skill-cyc-dist"></select>
          </div>
          <div class="field" style="display:grid; grid-template-columns:200px 1fr; gap:12px; align-items:center">
            <label>Tempo (km/h)</label>
            <select id="skill-cyc-pace"></select>
          </div>
        </div>

        <div style="display:flex; gap:8px; margin-top:12px">
          <button id="btn-save-skills" class="btn primary">Zapisz poziomy</button>
          <button id="btn-logout" class="btn">Wyloguj</button>
          <a href="#/wydarzenia" class="btn link">Wr√≥ƒá do wydarze≈Ñ</a>
        </div>
      </div>
    </section>
  </template>

  <!-- Nowe wydarzenie -->
  <template id="create-tpl">
  <section class="section container">
    <h2 style="margin:0 0 10px">Dodaj nowe wydarzenie</h2>

    <form id="create-form" class="glass" style="padding:16px">
      <div class="field">
        <label>Nazwa wydarzenia</label>
        <input name="title" required placeholder="Bieg nad Wis≈ÇƒÖ" />
      </div>

      <!-- Data i godzina -->
      <div class="field">
        <label>Data i godzina</label>
        <div style="display:flex; gap:8px; align-items:center">
          <input id="dt" type="datetime-local" name="datetime" required />
          <span style="color:#fffafa; font-size:18px">üìÖ</span>
          <span style="color:#fffafa; font-size:18px">‚è∞</span>
        </div>
      </div>

      <!-- Miejsce -->
      <div class="field">
        <label>Miejsce (wyszukaj na mapie lub skorzystaj z wyszukiwarki na mapie)</label>
        <input id="place" name="place" required placeholder="np. Bulwary Wi≈õlane, Warszawa" />
      </div>

      <!-- Lokalizacja na mapie -->
      <div class="field">
        <label>Lokalizacja na mapie</label>
        <div id="create-map" style="height:280px; border-radius:14px; overflow:hidden; background:#223"></div>
        <input type="hidden" name="lat" id="lat" required />
        <input type="hidden" name="lng" id="lng" required />
      </div>

      <!-- Sport -->
      <div class="field">
        <label>Sport</label>
        <select id="sport" name="sport" required>
          <option value="">-- wybierz sport --</option>
          <option value="siatkowka">Siatk√≥wka</option>
          <option value="tenis">Tenis</option>
          <option value="padel">Padel</option>
          <option value="squash">Squash</option>
          <option value="pilka-nozna">Pi≈Çka No≈ºna</option>
          <option value="kolarstwo">Kolarstwo</option>
          <option value="koszykowka3x3">Koszyk√≥wka 3x3</option>
          <option value="koszykowka">Koszyk√≥wka</option>
          <option value="badminton">Badminton</option>
          <option value="siatkowka-plazowa">Siatk√≥wka pla≈ºowa</option>
        </select>
      </div>

      <!-- Limit miejsc -->
      <div class="field">
        <label>Limit miejsc</label>
        <input name="capacity" type="number" min="1" value="20" required />
      </div>

      <!-- Baner -->
      <div class="field">
        <label>Baner (URL obrazka ‚Äî opcjonalnie)</label>
        <input name="banner" type="url" placeholder="https://...jpg" />
      </div>

      <!-- Opis -->
      <div class="field">
        <label>Opis</label>
        <textarea name="desc" rows="3" placeholder="Przyjemne tempo, ka≈ºdy mile widziany."></textarea>
      </div>

      <div style="display:flex; gap:8px; align-items:center; justify-content:space-between">
        <button class="btn primary" type="submit">Zapisz wydarzenie</button>
        <a class="btn" href="#/wydarzenia">Anuluj</a>
      </div>
    </form>
  </section>
</template>


  <!-- Modal szczeg√≥≈Ç√≥w wydarzenia -->
  <div class="modal" id="event-modal" aria-hidden="true" role="dialog" aria-label="Szczeg√≥≈Çy wydarzenia">
    <div class="modal-card">
      <div style="display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom:8px">
        <h3 id="m-title" style="margin:0">Wydarzenie</h3>
        <button class="btn" id="m-close">Zamknij</button>
      </div>
      <div class="modal-grid">
        <div>
          <div id="m-banner" class="banner" style="height:160px; border-radius:14px; overflow:hidden; margin-bottom:10px; background:#223"></div>
          <p class="meta" id="m-desc"></p>
          <div id="map"></div>
        </div>
        <div>
          <div class="card" style="margin-bottom:12px">
            <div style="display:flex; gap:12px; align-items:center; justify-content:space-between">
              <div>
                <div class="title" id="m-title-sm"></div>
                <div class="meta" id="m-when"></div>
                <div class="meta" id="m-place"></div>
                <div class="meta" id="m-sport"></div>
                <div class="meta" id="m-cycling" style="display:none"></div>
              </div>
              <span id="m-cap-pill" class="pill">--</span>
            </div>
          </div>
          <form id="join-form" class="glass" style="padding:12px">
            <div class="field"><label>Twoje imiƒô</label><input name="name" required placeholder="Ania" /></div>
            <div class="field"><label>Tw√≥j e‚Äëmail (opcjonalnie)</label><input name="email" type="email" placeholder="ania@example.com" /></div>
            <button class="btn primary" type="submit">Zapisz siƒô</button>
            <div id="join-msg" style="margin-top:8px"></div>
          </form>
        </div>
      </div>
    </div>
  </div>

  <footer class="container">
    <small>¬© <span id="year"></span> Aktywni. Demo bez backendu ‚Äî zapisy i wydarzenia zapisywane lokalnie w przeglƒÖdarce.</small>
  </footer>

</body>
</html>
